I"—<p><span><a class="gray" href="#link1">Overview</a></span><br />
<span class="indent"><a class="gray" href="#link2">Kotlin Native</a></span>
<span class="inden2"><a class="gray" href="#link3">ì˜ˆì œ Hello (Platform)!</a></span><br />
<span class="inden2"><a class="gray" href="#link4">ì˜ˆì œ Networking and Data Storage</a></span><br />
<span><a class="gray" href="#link5">Conclusion</a></span><br />
<span class="indent"><a class="gray" href="#link6">ì°¸ê³ </a></span><br /></p>

<p><a name="link1"></a></p>
<h1 id="overview">Overview</h1>

<p>Kotlinì˜ ê²½ìš° í˜„ì¬ Android ê°œë°œì— ë§ì´ ì“°ì´ê³  ìˆìŠµë‹ˆë‹¤. Kotlin ì–¸ì–´ ê°€ì´ë“œì— ë”°ë¥´ë©´ í˜„ì¬<br />
ì•„ë˜ì™€ ê°™ì€ í”Œë«í¼ì„ ì§€ì›í•œë‹¤ê³  ì•ˆë‚´í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>

<ul>
  <li>iOS (arm32, arm64, simulator x86_64)</li>
  <li>macOS (x86_64)</li>
  <li>watchOS (arm32, arm64, x86)</li>
  <li>tvOS (arm64, x86_64)</li>
  <li>Android (arm32, arm64, x86, x86_64)</li>
  <li>Windows (mingw x86_64, x86)</li>
  <li>Linux (x86_64, arm32, arm64, MIPS, MIPS little endian)</li>
  <li>WebAssembly (wasm32)</li>
</ul>

<p>ì§€ì› ëª©ë¡ ì¤‘ì— ëˆˆì— ë„ëŠ” iOSì— ëŒ€í•˜ì—¬ Kotlinìœ¼ë¡œ ì–´ëŠ ì •ë„ê¹Œì§€ iOS App ê°œë°œì´ ê°€ëŠ¥í•˜ë©°, ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ ê°œë°œì´ ê°€ëŠ¥ í•œì§€ ì•Œì•„ë³´ê¸° ìœ„í•´, ì•„ë˜ ê³µì‹ ë¬¸ì„œì—ì„œ ì œê³µí•˜ëŠ” ìƒ˜í”Œì„ ë¨¼ì € ì‚´í´ ë³´ì•˜ìŠµë‹ˆë‹¤.
<br /><br /></p>

<p><a name="link2"></a></p>
<h2 id="kotlin-native">Kotlin Native</h2>

<figure class="fullwidth">
  <img src="http://labs.brandi.co.kr///assets/2020/20201214/01.png" alt="kotlin" />
</figure>
<figcaption></figcaption>

<p>ë©€í‹° í”Œë«í¼ì€ ì•„ì§ì€  Alpha ë²„ì „ì´ì–´ì„œ ìì£¼ ë°”ë€” ìˆ˜ ìˆìŒì„ ê²½ê³ í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>

<figure class="percent70">
  <img src="http://labs.brandi.co.kr///assets/2020/20201214/02.png" alt="kotlin" />
</figure>
<figcaption></figcaption>

<figcaption>ì¶œì²˜ : <a class="gray" href="http://kotlinlang.org/">kotlinlang.org</a></figcaption>
<p><br /></p>

<p>Kotlin ê³µí†µ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì§€ì›ì„ ë°›ê³ , í”Œë«í¼ì„ ì§€ì›í•˜ëŠ” ì»´íŒŒì¼ëŸ¬ ìœ„ì—ì„œ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒì„ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<figure class="fullwidth">
  <img src="http://labs.brandi.co.kr///assets/2020/20201214/03.png" alt="kotlin" />
</figure>
<figcaption></figcaption>
<p><br /></p>

<figure class="fullwidth">
  <img src="http://labs.brandi.co.kr///assets/2020/20201214/04.png" alt="kotlin" />
</figure>
<figcaption></figcaption>

<p>Androidì™€ iOS êµ¬í˜„ì‹œ commonì— expected classë¥¼ ì •ì˜í•˜ê³ , ê° í”Œë«í¼ë³„ actual class ë¥¼ í†µí•˜ì—¬ ì‹¤ì œ êµ¬í˜„ì„ í•˜ë„ë¡ í•©ë‹ˆë‹¤.</p>

<p>Kotlinìœ¼ë¡œ ì „ì²´ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒìœ¼ë¡œ ì˜ˆìƒ í•˜ì˜€ìœ¼ë‚˜, ê³µì‹ë¬¸ì„œë¥¼ ëŒ€ëµì ìœ¼ë¡œ íŒŒì•…í•´ë³´ë‹ˆ ê³µí†µì˜</p>

<p>ì½”ë“œë¥¼ ì •ì˜í•˜ê³  ìƒì„¸ ì½”ë“œì˜ ê²½ìš° ê°œë³„ì  ì‘ì„±ì„ í•˜ëŠ” ë°©ì‹ì„ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
<br /><br /></p>

<p><a name="link3"></a></p>
<h3 id="ì˜ˆì œ-hello-platform">ì˜ˆì œ Hello (Platform)!</h3>

<p>ëŒ€ëµì ì¸ íë¦„ì€ íŒŒì•… í•˜ì˜€ìœ¼ë‹ˆ, ì´ì œ ì˜ˆì œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‹¤ì œ êµ¬í˜„ëœ  ëª¨ìŠµì„ ì‚´í´ ë³´ê² ìŠµë‹ˆë‹¤.</p>

<p>ì¼ë°˜ì ìœ¼ë¡œ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¥¼ ë°°ìš¸ ë•Œ ê°€ì¥ ì²˜ìŒìœ¼ë¡œ í•´ë³´ëŠ” ê²ƒì€ ì—­ì‹œë‚˜ hello worldì´ê¸° ë•Œë¬¸ì—</p>

<p>ê°€ì´ë“œì—ì„œ ì œê³µí•˜ëŠ” hello world í”„ë¡œì íŠ¸ë¥¼ ìš°ì„  ë¶„ì„í•´ ë³´ê² ìŠµë‹ˆë‹¤.</p>

<figure class="fullwidth">
  <img src="http://labs.brandi.co.kr///assets/2020/20201214/05.png" alt="kotlin" />
</figure>
<figcaption></figcaption>

<p>Android Studio ìµœì‹  ì—…ë°ì´íŠ¸ ì´í›„, í”„ë¡œì íŠ¸ ìƒì„± ì‹œ ì•„ë˜ ìª½ì— ë©€í‹°í”Œë«í¼ì„ ì§€ì›í•˜ëŠ” Templateì´ ì¶”ê°€ë˜ì—ˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<figure class="percent70">
  <img src="http://labs.brandi.co.kr///assets/2020/20201214/06.png" alt="kotlin" />
</figure>
<figcaption></figcaption>

<p>í”„ë¡œì íŠ¸ ìƒì„± ì‹œ  AndroidApp, commonMain, iOSMainì˜ 3ê°œë¡œ êµ¬ë¶„ëœ í”„ë¡œì íŠ¸ê°€ ìƒì„±ë©ë‹ˆë‹¤.<br />
ë”ë¶ˆì–´ helloë¥¼ ì¶œë ¥í•˜ê¸° ìœ„í•œ ê¸°ë³¸ ì½”ë“œ ì—­ì‹œ ìƒì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</p>

<p>commonMainì˜ Platform</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">expect</span> <span class="kd">class</span> <span class="nc">Platform</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="py">platform</span><span class="p">:</span> <span class="nc">String</span>
<span class="p">}</span>
</code></pre></div></div>

<p>androidMainì˜ Platform</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">actual</span> <span class="kd">class</span> <span class="nc">Platform</span> <span class="n">actual</span> <span class="k">constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">actual</span> <span class="kd">val</span> <span class="py">platform</span><span class="p">:</span> <span class="nc">String</span> <span class="p">=</span> <span class="s">"Android ${android.os.Build.VERSION.SDK_INT}"</span>
<span class="p">}</span>
</code></pre></div></div>

<p>iosMainì˜ Platform</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">actual</span> <span class="kd">class</span> <span class="nc">Platform</span> <span class="n">actual</span> <span class="k">constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">actual</span> <span class="kd">val</span> <span class="py">platform</span><span class="p">:</span> <span class="nc">String</span> <span class="p">=</span> <span class="nc">UIDevice</span><span class="p">.</span><span class="n">currentDevice</span><span class="p">.</span><span class="nf">systemName</span><span class="p">()</span> <span class="p">+</span> <span class="s">" "</span> <span class="p">+</span> <span class="nc">UIDevice</span><span class="p">.</span><span class="n">currentDevice</span><span class="p">.</span><span class="n">systemVersion</span>
<span class="p">}</span>
</code></pre></div></div>

<p>commonMainì˜ expect classë¥¼ ê° í”Œë«í¼ë³„ Mainì—ì„œ actual class í˜•íƒœë¡œ êµ¬í˜„ ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</p>

<p>androidAppì˜ MainActivity</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">androidx.appcompat.app.AppCompatActivity</span>
<span class="k">import</span> <span class="nn">android.os.Bundle</span>
<span class="k">import</span> <span class="nn">com.example.demo.shared.Greeting</span>
<span class="k">import</span> <span class="nn">android.widget.TextView</span>

<span class="k">fun</span> <span class="nf">greet</span><span class="p">():</span> <span class="nc">String</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nc">Greeting</span><span class="p">().</span><span class="nf">greeting</span><span class="p">()</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">MainActivity</span> <span class="p">:</span> <span class="nc">AppCompatActivity</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">override</span> <span class="k">fun</span> <span class="nf">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">:</span> <span class="nc">Bundle</span><span class="p">?)</span> <span class="p">{</span>
        <span class="k">super</span><span class="p">.</span><span class="nf">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">)</span>
        <span class="nf">setContentView</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">layout</span><span class="p">.</span><span class="n">activity_main</span><span class="p">)</span>

        <span class="kd">val</span> <span class="py">tv</span><span class="p">:</span> <span class="nc">TextView</span> <span class="p">=</span> <span class="nf">findViewById</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">id</span><span class="p">.</span><span class="n">text_view</span><span class="p">)</span>
        <span class="n">tv</span><span class="p">.</span><span class="n">text</span> <span class="p">=</span> <span class="nf">greet</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>iosAppì˜ ContentView</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">SwiftUI</span>
<span class="kd">import</span> <span class="n">shared</span>

<span class="kd">func</span> <span class="nf">greet</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">String</span> <span class="p">{</span>

  <span class="k">return</span> <span class="kt">Greeting</span><span class="p">()</span><span class="o">.</span><span class="nf">greeting</span><span class="p">()</span>

<span class="p">}</span>

<span class="kd">struct</span> <span class="kt">ContentView</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>

<span class="k">var</span> <span class="nv">body</span><span class="p">:</span><span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>

     <span class="kt">Text</span><span class="p">(</span><span class="nf">greet</span><span class="p">())</span>

   <span class="p">}</span>

<span class="p">}</span>

<span class="kd">struct</span> <span class="kt">ContentView_Previews</span><span class="p">:</span> <span class="kt">PreviewProvider</span> <span class="p">{</span>

<span class="kd">static</span> <span class="k">var</span> <span class="nv">previews</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>

      <span class="kt">ContentView</span><span class="p">()</span>
   <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ê° í”Œë«í¼ ë³„ë¡œ êµ¬í˜„ëœ mainì„ ëª¨ë“ˆë¡œ ì‚¬ìš©í•˜ëŠ” appì„ êµ¬í˜„í•©ë‹ˆë‹¤. AndroidëŠ” Kotlinì„ ì‚¬ìš©í•˜ì—¬ iosëŠ” xcodeë¡œ swiftë¥¼ ì‚¬ìš©í•˜ì—¬ UI í‘œí˜„ í•©ë‹ˆë‹¤.</p>

<figure class="percent80">
  <img src="http://labs.brandi.co.kr///assets/2020/20201214/07.png" alt="kotlin" />
</figure>
<figcaption></figcaption>

<figure class="percent50">
  <img src="http://labs.brandi.co.kr///assets/2020/20201214/08.png" alt="kotlin" />
</figure>
<figcaption></figcaption>

<p>ì´í›„ ê° í”Œë«í¼ ë³„ ì‹œë®¬ë ˆì´í„° ì‹¤í–‰í–ˆì„ ë•Œ, ì •ìƒì ìœ¼ë¡œ ì¶œë ¥ ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<p>ê·¸ë™ì•ˆ í…ŒìŠ¤íŠ¸ í•  ë•Œ ë³´ì•˜ë˜ hello worldê°€ ì•„ë‹Œ hello + â€œí”Œë«í¼ ì •ë³´â€ ì´ê¸´ í•˜ì§€ë§Œ, Kotlinì„ ì´ìš©í•˜ì—¬ ios ì¶œë ¥í•´ë³¼ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ êµ‰ì¥íˆ í¥ë¯¸ë¡œìš´ ë¶€ë¶„ì…ë‹ˆë‹¤.
<br /><br /></p>

<p><a name="link4"></a></p>
<h3 id="ì˜ˆì œ-networking-and-data-storage">ì˜ˆì œ Networking and Data Storage</h3>

<p>ë‹¨ìˆœ í…ìŠ¤íŠ¸ ì¶œë ¥ì¸ hello ì˜ˆì œ ì™¸ì— ì¢€ ë” ë³¸ê²©ì ì¸ ì˜ˆì œë¥¼ ì‚´í´ ë³´ì•˜ìŠµë‹ˆë‹¤. ì´ì œ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•˜ì—¬ api í˜¸ì¶œ í›„ listë¥¼ í†µí•˜ì—¬ ì¶œë ¥í•˜ëŠ” ì˜ˆì œë¥¼ ë³´ì—¬ë“œë¦¬ê² ìŠµë‹ˆë‹¤.</p>

<p>commonMainì˜ DatabaseDriverFactory</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">com.squareup.sqldelight.db.SqlDriver</span>

<span class="n">expect</span> <span class="kd">class</span> <span class="nc">DatabaseDriverFactory</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">createDriver</span><span class="p">():</span> <span class="nc">SqlDriver</span>
<span class="p">}</span>
</code></pre></div></div>

<p>androidMainì˜ DatabaseDriverFactory</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">android.content.Context</span>
<span class="k">import</span> <span class="nn">com.jetbrains.handson.kmm.shared.cache.AppDatabase</span>
<span class="k">import</span> <span class="nn">com.squareup.sqldelight.android.AndroidSqliteDriver</span>
<span class="k">import</span> <span class="nn">com.squareup.sqldelight.db.SqlDriver</span>

<span class="n">actual</span> <span class="kd">class</span> <span class="nc">DatabaseDriverFactory</span><span class="p">(</span><span class="k">private</span> <span class="kd">val</span> <span class="py">context</span><span class="p">:</span> <span class="nc">Context</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">actual</span> <span class="k">fun</span> <span class="nf">createDriver</span><span class="p">():</span> <span class="nc">SqlDriver</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nc">AndroidSqliteDriver</span><span class="p">(</span><span class="nc">AppDatabase</span><span class="p">.</span><span class="nc">Schema</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="s">"test.db"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>iosMainì˜ DatabaseDriverFactory</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">com.squareup.sqldelight.db.SqlDriver</span>
<span class="k">import</span> <span class="nn">com.squareup.sqldelight.drivers.native.NativeSqliteDriver</span>

<span class="n">actual</span> <span class="kd">class</span> <span class="nc">DatabaseDriverFactory</span> <span class="p">{</span>
    <span class="n">actual</span> <span class="k">fun</span> <span class="nf">createDriver</span><span class="p">():</span> <span class="nc">SqlDriver</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nc">NativeSqliteDriver</span><span class="p">(</span><span class="nc">AppDatabase</span><span class="p">.</span><span class="nc">Schema</span><span class="p">,</span> <span class="s">"test.db"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>DatabaseDriverFactory classì˜ ê²½ìš°, ê° í”Œë«í¼ë³„ë¡œ êµ¬í˜„í•©ë‹ˆë‹¤.</p>

<p>RocketLaunch Data class</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">kotlinx.serialization.SerialName</span>
<span class="k">import</span> <span class="nn">kotlinx.serialization.Serializable</span>

<span class="nd">@Serializable</span>
<span class="kd">data class</span> <span class="nc">RocketLaunch</span><span class="p">(</span>
    <span class="nd">@SerialName</span><span class="p">(</span><span class="s">"flight_number"</span><span class="p">)</span>
    <span class="kd">val</span> <span class="py">flightNumber</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span>
    <span class="nd">@SerialName</span><span class="p">(</span><span class="s">"mission_name"</span><span class="p">)</span>
    <span class="kd">val</span> <span class="py">missionName</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span>
    <span class="nd">@SerialName</span><span class="p">(</span><span class="s">"launch_year"</span><span class="p">)</span>
    <span class="kd">val</span> <span class="py">launchYear</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span>
    <span class="nd">@SerialName</span><span class="p">(</span><span class="s">"launch_date_utc"</span><span class="p">)</span>
    <span class="kd">val</span> <span class="py">launchDateUTC</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span>
    <span class="nd">@SerialName</span><span class="p">(</span><span class="s">"rocket"</span><span class="p">)</span>
    <span class="kd">val</span> <span class="py">rocket</span><span class="p">:</span> <span class="nc">Rocket</span><span class="p">,</span>
    <span class="nd">@SerialName</span><span class="p">(</span><span class="s">"details"</span><span class="p">)</span>
    <span class="kd">val</span> <span class="py">details</span><span class="p">:</span> <span class="nc">String</span><span class="p">?,</span>
    <span class="nd">@SerialName</span><span class="p">(</span><span class="s">"launch_success"</span><span class="p">)</span>
    <span class="kd">val</span> <span class="py">launchSuccess</span><span class="p">:</span> <span class="nc">Boolean</span><span class="p">?,</span>
    <span class="nd">@SerialName</span><span class="p">(</span><span class="s">"links"</span><span class="p">)</span>
    <span class="kd">val</span> <span class="py">links</span><span class="p">:</span> <span class="nc">Links</span>
<span class="p">)</span>

<span class="nd">@Serializable</span>
<span class="kd">data class</span> <span class="nc">Rocket</span><span class="p">(</span>
    <span class="nd">@SerialName</span><span class="p">(</span><span class="s">"rocket_id"</span><span class="p">)</span>
    <span class="kd">val</span> <span class="py">id</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span>
    <span class="nd">@SerialName</span><span class="p">(</span><span class="s">"rocket_name"</span><span class="p">)</span>
    <span class="kd">val</span> <span class="py">name</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span>
    <span class="nd">@SerialName</span><span class="p">(</span><span class="s">"rocket_type"</span><span class="p">)</span>
    <span class="kd">val</span> <span class="py">type</span><span class="p">:</span> <span class="nc">String</span>
<span class="p">)</span>

<span class="nd">@Serializable</span>
<span class="kd">data class</span> <span class="nc">Links</span><span class="p">(</span>
    <span class="nd">@SerialName</span><span class="p">(</span><span class="s">"mission_patch"</span><span class="p">)</span>
    <span class="kd">val</span> <span class="py">missionPatchUrl</span><span class="p">:</span> <span class="nc">String</span><span class="p">?,</span>
    <span class="nd">@SerialName</span><span class="p">(</span><span class="s">"article_link"</span><span class="p">)</span>
    <span class="kd">val</span> <span class="py">articleUrl</span><span class="p">:</span> <span class="nc">String</span><span class="p">?</span>
<span class="p">)</span>
</code></pre></div></div>

<p>data classë¥¼ ë¹„ë¡¯í•œ domain ê´€ë ¨ ëœ ë¶€ë¶„ì€ Kotlinìœ¼ë¡œ ì‘ì„±ëœ ê³µìš© ì½”ë“œë¥¼ ì‚¬ìš©í•˜ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤.</p>

<p>ì—¬ê¸°ì„œ ëˆˆ ì—¬ê²¨ ë³¼ ë¶€ë¶„ì€, SqlDriver ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ê²½ìš° AndroidëŠ” AndroidSqliteDriver iOSëŠ” NativeSqliteDriverë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.</p>

<p>androidAppì˜ MainActivity</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">androidx.appcompat.app.AppCompatActivity</span>
<span class="k">import</span> <span class="nn">android.os.Bundle</span>
<span class="k">import</span> <span class="nn">android.widget.FrameLayout</span>
<span class="k">import</span> <span class="nn">android.widget.Toast</span>
<span class="k">import</span> <span class="nn">androidx.recyclerview.widget.LinearLayoutManager</span>
<span class="k">import</span> <span class="nn">androidx.recyclerview.widget.RecyclerView</span>
<span class="k">import</span> <span class="nn">androidx.swiperefreshlayout.widget.SwipeRefreshLayout</span>
<span class="k">import</span> <span class="nn">com.jetbrains.handson.kmm.shared.SpaceXSDK</span>
<span class="k">import</span> <span class="nn">com.jetbrains.handson.kmm.shared.cache.DatabaseDriverFactory</span>
<span class="k">import</span> <span class="nn">kotlinx.coroutines.MainScope</span>
<span class="k">import</span> <span class="nn">kotlinx.coroutines.launch</span>
<span class="k">import</span> <span class="nn">androidx.core.view.isVisible</span>
<span class="k">import</span> <span class="nn">kotlinx.coroutines.cancel</span>

<span class="kd">class</span> <span class="nc">MainActivity</span> <span class="p">:</span> <span class="nc">AppCompatActivity</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">mainScope</span> <span class="p">=</span> <span class="nc">MainScope</span><span class="p">()</span>

    <span class="k">private</span> <span class="k">lateinit</span> <span class="kd">var</span> <span class="py">launchesRecyclerView</span><span class="p">:</span> <span class="nc">RecyclerView</span>
    <span class="k">private</span> <span class="k">lateinit</span> <span class="kd">var</span> <span class="py">progressBarView</span><span class="p">:</span> <span class="nc">FrameLayout</span>
    <span class="k">private</span> <span class="k">lateinit</span> <span class="kd">var</span> <span class="py">swipeRefreshLayout</span><span class="p">:</span> <span class="nc">SwipeRefreshLayout</span>

    <span class="k">private</span> <span class="kd">val</span> <span class="py">sdk</span> <span class="p">=</span> <span class="nc">SpaceXSDK</span><span class="p">(</span><span class="nc">DatabaseDriverFactory</span><span class="p">(</span><span class="k">this</span><span class="p">))</span>

    <span class="k">private</span> <span class="kd">val</span> <span class="py">launchesRvAdapter</span> <span class="p">=</span> <span class="nc">LaunchesRvAdapter</span><span class="p">(</span><span class="nf">listOf</span><span class="p">())</span>

    <span class="k">override</span> <span class="k">fun</span> <span class="nf">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">:</span> <span class="nc">Bundle</span><span class="p">?)</span> <span class="p">{</span>
        <span class="k">super</span><span class="p">.</span><span class="nf">onCreate</span><span class="p">(</span><span class="n">savedInstanceState</span><span class="p">)</span>
        <span class="n">title</span> <span class="p">=</span> <span class="s">"SpaceX Launches"</span>
        <span class="nf">setContentView</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">layout</span><span class="p">.</span><span class="n">activity_main</span><span class="p">)</span>

        <span class="n">launchesRecyclerView</span> <span class="p">=</span> <span class="nf">findViewById</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">id</span><span class="p">.</span><span class="n">launchesListRv</span><span class="p">)</span>
        <span class="n">progressBarView</span> <span class="p">=</span> <span class="nf">findViewById</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">id</span><span class="p">.</span><span class="n">progressBar</span><span class="p">)</span>
        <span class="n">swipeRefreshLayout</span> <span class="p">=</span> <span class="nf">findViewById</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">id</span><span class="p">.</span><span class="n">swipeContainer</span><span class="p">)</span>

        <span class="n">launchesRecyclerView</span><span class="p">.</span><span class="n">adapter</span> <span class="p">=</span> <span class="n">launchesRvAdapter</span>
        <span class="n">launchesRecyclerView</span><span class="p">.</span><span class="n">layoutManager</span> <span class="p">=</span> <span class="nc">LinearLayoutManager</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>

        <span class="n">swipeRefreshLayout</span><span class="p">.</span><span class="nf">setOnRefreshListener</span> <span class="p">{</span>
            <span class="n">swipeRefreshLayout</span><span class="p">.</span><span class="n">isRefreshing</span> <span class="p">=</span> <span class="k">false</span>
            <span class="nf">displayLaunches</span><span class="p">(</span><span class="k">true</span><span class="p">)</span>
        <span class="p">}</span>

        <span class="nf">displayLaunches</span><span class="p">(</span><span class="k">false</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="k">fun</span> <span class="nf">onDestroy</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">super</span><span class="p">.</span><span class="nf">onDestroy</span><span class="p">()</span>
        <span class="n">mainScope</span><span class="p">.</span><span class="nf">cancel</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">fun</span> <span class="nf">displayLaunches</span><span class="p">(</span><span class="n">needReload</span><span class="p">:</span> <span class="nc">Boolean</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">progressBarView</span><span class="p">.</span><span class="n">isVisible</span> <span class="p">=</span> <span class="k">true</span>
        <span class="n">mainScope</span><span class="p">.</span><span class="nf">launch</span> <span class="p">{</span>
            <span class="n">kotlin</span><span class="p">.</span><span class="nf">runCatching</span> <span class="p">{</span>
                <span class="n">sdk</span><span class="p">.</span><span class="nf">getLaunches</span><span class="p">(</span><span class="n">needReload</span><span class="p">)</span>
            <span class="p">}.</span><span class="nf">onSuccess</span> <span class="p">{</span>
                <span class="n">launchesRvAdapter</span><span class="p">.</span><span class="n">launches</span> <span class="p">=</span> <span class="n">it</span>
                <span class="n">launchesRvAdapter</span><span class="p">.</span><span class="nf">notifyDataSetChanged</span><span class="p">()</span>
            <span class="p">}.</span><span class="nf">onFailure</span> <span class="p">{</span>
                <span class="nc">Toast</span><span class="p">.</span><span class="nf">makeText</span><span class="p">(</span><span class="k">this</span><span class="nd">@MainActivity</span><span class="p">,</span> <span class="n">it</span><span class="p">.</span><span class="n">localizedMessage</span><span class="p">,</span> <span class="nc">Toast</span><span class="p">.</span><span class="nc">LENGTH_SHORT</span><span class="p">).</span><span class="nf">show</span><span class="p">()</span>
            <span class="p">}</span>
            <span class="n">progressBarView</span><span class="p">.</span><span class="n">isVisible</span> <span class="p">=</span> <span class="k">false</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>iosAppì˜ ContentView</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">import</span> <span class="kt">SwiftUI</span>
<span class="kd">import</span> <span class="n">shared</span>

<span class="kd">struct</span> <span class="kt">ContentView</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
  <span class="kd">@ObservedObject</span> <span class="kd">private(set)</span> <span class="k">var</span> <span class="nv">viewModel</span><span class="p">:</span> <span class="kt">ViewModel</span>

    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="kt">NavigationView</span> <span class="p">{</span>
            <span class="nf">listView</span><span class="p">()</span>
            <span class="o">.</span><span class="nf">navigationBarTitle</span><span class="p">(</span><span class="s">"SpaceX Launches"</span><span class="p">)</span>
            <span class="o">.</span><span class="nf">navigationBarItems</span><span class="p">(</span><span class="nv">trailing</span><span class="p">:</span>
                <span class="kt">Button</span><span class="p">(</span><span class="s">"Reload"</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">self</span><span class="o">.</span><span class="n">viewModel</span><span class="o">.</span><span class="nf">loadLaunches</span><span class="p">(</span><span class="nv">forceReload</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
            <span class="p">})</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">listView</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">AnyView</span> <span class="p">{</span>
        <span class="k">switch</span> <span class="n">viewModel</span><span class="o">.</span><span class="n">launches</span> <span class="p">{</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">loading</span><span class="p">:</span>
            <span class="k">return</span> <span class="kt">AnyView</span><span class="p">(</span><span class="kt">Text</span><span class="p">(</span><span class="s">"Loading..."</span><span class="p">)</span><span class="o">.</span><span class="nf">multilineTextAlignment</span><span class="p">(</span><span class="o">.</span><span class="n">center</span><span class="p">))</span>
        <span class="k">case</span> <span class="o">.</span><span class="nf">result</span><span class="p">(</span><span class="k">let</span> <span class="nv">launches</span><span class="p">):</span>
            <span class="k">return</span> <span class="kt">AnyView</span><span class="p">(</span><span class="kt">List</span><span class="p">(</span><span class="n">launches</span><span class="p">)</span> <span class="p">{</span> <span class="n">launch</span> <span class="k">in</span>
                <span class="kt">RocketLaunchRow</span><span class="p">(</span><span class="nv">rocketLaunch</span><span class="p">:</span> <span class="n">launch</span><span class="p">)</span>
            <span class="p">})</span>
        <span class="k">case</span> <span class="o">.</span><span class="nf">error</span><span class="p">(</span><span class="k">let</span> <span class="nv">description</span><span class="p">):</span>
            <span class="k">return</span> <span class="kt">AnyView</span><span class="p">(</span><span class="kt">Text</span><span class="p">(</span><span class="n">description</span><span class="p">)</span><span class="o">.</span><span class="nf">multilineTextAlignment</span><span class="p">(</span><span class="o">.</span><span class="n">center</span><span class="p">))</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">extension</span> <span class="kt">ContentView</span> <span class="p">{</span>

    <span class="kd">enum</span> <span class="kt">LoadableLaunches</span> <span class="p">{</span>
        <span class="k">case</span> <span class="n">loading</span>
        <span class="k">case</span> <span class="nf">result</span><span class="p">([</span><span class="kt">RocketLaunch</span><span class="p">])</span>
        <span class="k">case</span> <span class="nf">error</span><span class="p">(</span><span class="kt">String</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">class</span> <span class="kt">ViewModel</span><span class="p">:</span> <span class="kt">ObservableObject</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">sdk</span><span class="p">:</span> <span class="kt">SpaceXSDK</span>
        <span class="kd">@Published</span> <span class="k">var</span> <span class="nv">launches</span> <span class="o">=</span> <span class="kt">LoadableLaunches</span><span class="o">.</span><span class="n">loading</span>

        <span class="nf">init</span><span class="p">(</span><span class="nv">sdk</span><span class="p">:</span> <span class="kt">SpaceXSDK</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">self</span><span class="o">.</span><span class="n">sdk</span> <span class="o">=</span> <span class="n">sdk</span>
            <span class="k">self</span><span class="o">.</span><span class="nf">loadLaunches</span><span class="p">(</span><span class="nv">forceReload</span><span class="p">:</span> <span class="kc">false</span><span class="p">)</span>
        <span class="p">}</span>

        <span class="kd">func</span> <span class="nf">loadLaunches</span><span class="p">(</span><span class="nv">forceReload</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">self</span><span class="o">.</span><span class="n">launches</span> <span class="o">=</span> <span class="o">.</span><span class="n">loading</span>
            <span class="n">sdk</span><span class="o">.</span><span class="nf">getLaunches</span><span class="p">(</span><span class="nv">forceReload</span><span class="p">:</span> <span class="n">forceReload</span><span class="p">,</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="p">{</span> <span class="n">launches</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span>
                <span class="k">if</span> <span class="k">let</span> <span class="nv">launches</span> <span class="o">=</span> <span class="n">launches</span> <span class="p">{</span>
                    <span class="k">self</span><span class="o">.</span><span class="n">launches</span> <span class="o">=</span> <span class="o">.</span><span class="nf">result</span><span class="p">(</span><span class="n">launches</span><span class="p">)</span>
                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                    <span class="k">self</span><span class="o">.</span><span class="n">launches</span> <span class="o">=</span> <span class="o">.</span><span class="nf">error</span><span class="p">(</span><span class="n">error</span><span class="p">?</span><span class="o">.</span><span class="n">localizedDescription</span> <span class="p">??</span> <span class="s">"error"</span><span class="p">)</span>
                <span class="p">}</span>
            <span class="p">})</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">extension</span> <span class="kt">RocketLaunch</span><span class="p">:</span> <span class="kt">Identifiable</span> <span class="p">{</span> <span class="p">}</span>

<span class="kd">struct</span> <span class="kt">ContentView_Previews</span><span class="p">:</span> <span class="kt">PreviewProvider</span> <span class="p">{</span>
    <span class="kd">static</span> <span class="k">var</span> <span class="nv">previews</span><span class="p">:</span> <span class="kd">some</span> <span class="kt">View</span> <span class="p">{</span>
        <span class="cm">/*@START_MENU_TOKEN@*/</span><span class="kt">Text</span><span class="p">(</span><span class="s">"Hello, World!"</span><span class="p">)</span><span class="cm">/*@END_MENU_TOKEN@*/</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>hello ì˜ˆì œì™€ ë™ì¼í•˜ê²Œ ê° í”Œë«í¼ ë³„ list ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•˜ì—¬ uië¥¼ í‘œí˜„í•´ ì¤ë‹ˆë‹¤.</p>

<figure class="percent50">
  <img src="http://labs.brandi.co.kr///assets/2020/20201214/09.png" alt="kotlin" />
</figure>
<figcaption></figcaption>

<figure class="percent80">
  <img src="http://labs.brandi.co.kr///assets/2020/20201214/10.png" alt="kotlin" />
</figure>
<figcaption></figcaption>

<p>ì‹¤í–‰ ê²°ê³¼ ê° í”Œë«í¼ ë³„ë¡œ ë¦¬ìŠ¤íŠ¸ê°€ ì¶œë ¥ë©ë‹ˆë‹¤.
<br /><br /></p>

<p><a name="link5"></a></p>
<h1 id="conclusion">Conclusion</h1>

<p>Reactive Native ì™€ flutterë¥¼ ë¹„ë¡¯í•œ ë©€í‹°í”Œë«í¼ì˜ ê²½ìš° nativeì— ë¹„í•˜ì—¬ ëŠë¦¬ê±°ë‚˜ ê¸°ì¡´ native ê°œë°œìë“¤ì´ ìƒˆë¡­ê²Œ ì–¸ì–´ë¥¼ ë°°ì›Œì•¼ í•˜ëŠ” ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤. Kotlinì˜ ê²½ìš° ê¸°ì¡´ Android ê°œë°œìê°€ ì¶”ê°€ í•™ìŠµ ì—†ì´ ê°œë°œì´ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì—  ì‰½ê²Œ iOS App ê°œë°œì´ ê°€ëŠ¥í•˜ì§€ ì•Šì„ê¹Œ, ë¼ê³  ìƒê°í•˜ì˜€ìŠµë‹ˆë‹¤.</p>

<p>ì˜ë¬¸ì— ëŒ€í•œ ë‹µì„ ì°¾ê¸° ìœ„í•´ ê°€ë³ê²Œ ì‚´í´ ë³¸ Kotlin NativeëŠ”, ê¸°ì¡´ ìƒê°ê³¼ ë‹¬ë¦¬ ëª¨ë“  ë¶€ë¶„ì„ Kotlin ìœ¼ë¡œ ì‘ì„± í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆì—ˆìŠµë‹ˆë‹¤.  Kotlin ê°œë°œìê°€ iOS ê°œë°œì„ í•œë‹¤ê¸°ë³´ë‹¤ëŠ” ê³µí†µ domain ì˜ì—­ì„  Kotlinìœ¼ë¡œ ì‘ì„±í•˜ê³ , ì´ ë¶€ë¶„ì„ ë¼ì´ë¸ŒëŸ¬ë¦¬ì²˜ëŸ¼ ì‚¬ìš©í•˜ë©´ì„œ UIë¥¼ í•´ë‹¹ í”Œë«í¼ì˜ ì–¸ì–´ë¡œ  ê°œë°œí•˜ëŠ” í˜•íƒœì…ë‹ˆë‹¤.</p>

<p>ëŒ€ë‹¤ìˆ˜ Androidì™€ iOS Appì„ ë³‘í–‰ ê°œë°œ í•œë‹¤ê³  í•  ë•Œ domain ë¶€ë¶„ì— ëŒ€í•œ ì²˜ë¦¬ë¥¼ ì–‘ìª½ì´ ë™ì¼í•œ í˜•íƒœë¡œ ë§Œë“¤ ìˆ˜ ìˆëŠ” ì¥ì ì´ ìˆìŠµë‹ˆë‹¤. iOSìª½ì€ UIë¶€ë¶„ì— ì¢€ ë” ì§‘ì¤‘í•  ìˆ˜ ìˆì„ ê²ƒì´ê³ ìš”. í”Œë«í¼ ë³„ UI êµ¬í˜„ ì—­ì‹œ native ì†ë„  ë˜í•œ ìƒì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ê²ƒì€ happy caseì— ëŒ€í•œ ê°€ì •ì…ë‹ˆë‹¤. í˜„ì¬ ê°„ë‹¨í•œ ì˜ˆì œë¥¼ ë”°ë¼ ë§Œë“¤ì–´ ë³´ë©´ Kotlin NativeëŠ” ì•„ì§ Alphaì´ê¸° ë•Œë¬¸ì´ë¼ëŠ” ì , ë”ë¶ˆì–´ ë¬¸ì„œì— ìµœì‹  toolì˜ ë‚´ìš©ì´ ë¯¸ë°˜ì˜ ë˜ì–´ ìˆë‹¤ëŠ” ê²ƒ, bugì¸ì§€ ì•Œìˆ˜ ì—†ëŠ” toolìƒì˜ ì˜¤ë¥˜, iosì˜ ê²½ìš° ê³µí†µ ì˜ì—­ì˜ ë””ë²„ê¹…ì´ ì–´ë µë‹¤ëŠ” ì  ë“±ê³¼ ì°¸ê³  ìë£Œ ì—­ì‹œ ì¶©ë¶„í•˜ì§€ ì•Šë‹¤ëŠ” ë¬¸ì œì ì´ ë³´ì…ë‹ˆë‹¤.</p>

<p>í–¥í›„ ì •ì‹ ë²„ì „ê¹Œì§€ ë¬¸ì œì ì— ëŒ€í•˜ì—¬ ì§€ì†ì ì¸ ìˆ˜ì •ê³¼ ë³´ì•ˆì´ ì´ë£¨ì–´ì§„ë‹¤ë©´ ë¶„ëª… Kotlin Native ì—­ì‹œ ë©€í‹° í”Œë«í¼ì˜ í•œê°€ì§€ ëŒ€ì•ˆì´ ë ìˆ˜ ìˆë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤. Swift ë˜í•œ ë‹¨ìˆœíˆ iOS ê°œë°œë§Œì„ ìœ„í•œ ì–¸ì–´ê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— â€˜Swiftë¡œ Android ì§€ì›ì´ ê°€ëŠ¥í•´ì§„ë‹¤ë©´ ì–´ë–¨ê¹Œ?â€™í•˜ëŠ” ìƒê°ì„ í•˜ë©° Kotlin Nativeì— ëŒ€í•œ ê¸€ì„  ë§ˆë¬´ë¦¬ í•©ë‹ˆë‹¤.
<br /><br /></p>

<p><a name="link6"></a></p>
<h3 id="ì°¸ê³ ">ì°¸ê³ </h3>

<p><a href="https://kotlinlang.org/docs">https://kotlinlang.org/docs</a><br />
<a href="https://play.kotlinlang.org/hands-on/Networking%20and%20Data%20Storage%20with%20Kotlin%20Multiplatfrom%20Mobile/01_Introduction">https://play.kotlinlang.org/hands-on/Networking and Data Storage with Kotlin Multiplatfrom Mobile/01_Introduction</a><br />
<a href="https://www.raywenderlich.com/7357-ios-app-with-kotlin-native-getting-started">https://www.raywenderlich.com/7357-ios-app-with-kotlin-native-getting-started</a></p>
:ET