---
title: 신입 개발자를 위한 코드의 정석
layout: post
cover: "/assets/default.jpg"
author: kimwk
subtitle: 원조 막내(?)가 전하는 삽질 공식
date: '2018-03-02 17:27:11'
---

# Overview
대학을 수석으로 졸업했지만, 정작 회사에서는 A부터 Z까지 제대로 할 줄 아는 게 없었습니다. 실수를 남발할 때마다 느꼈던 좌절감은 아직도 생생하지만 되돌아보면 그때의 삽질이 소중한 피와 살이 되었지요. 오늘은 헤매고 있는 신입 개발자를 위한 글을 쓰려고 합니다. 신입 개발자, 당신! 내 이야기를 편하게 듣고 가지 않으실래요? <br><br><br>


# 남을 위한 코드, 클-린 코드
“너랑 같이 일하는 사람은 어떻게 보라는 거야?” <br>
“한 명이 짠 코드인데, 어째 한 사람이 짠 것 같지가 않다..” <br>
~~“이게 네 스타일이냐?”~~ <br><br>

대학생이었을 땐, 대부분 혼자서 프로젝트를 진행했습니다. 다른 사람이 제 코드를 보는 일도 거의 없어서 띄어쓰기나 들여쓰기 등에 통일이 없었고, 함수의 네이밍도 전혀 고려하지 않았습니다. 이게 나쁜 습관이었다는 걸 입사하고 알게 되었죠. 이 습관을 고치려고 코딩 컨벤션(coding convention)을 지키는 것에 꽤 오랜 시간을 들여야만 했습니다. <br>

우리는 협업을 하는 사람들입니다. 사람들이 더러운 방보다 깨끗한 방을 좋아하는 것처럼, 당신과 협업하는 개발자도 보기 어려운 코드보다 깨끗한 코드를 더 좋아합니다. 클린 코드를 작성하기 위한 세 가지 기본 원칙을 잠시 소개합니다. <br><br>

**클린 코드를 위한 세 가지 기본 원칙** <br>
1. 코드를 최초로 작성한 사람이 끝까지 유지보수를 한다는 보장은 없다.
2. 이미 잘 정리된 코드는 효율성이 증가한다. 정리할 시간에 코드 한 줄을 더 분석할 수 있으니까!
3. 리팩토링은 미루었다가 한꺼번에 하는 것이 아니다. 코드를 작성하는 매순간 함께 하는 활동이다.<br><br>

작은 것 하나부터 습관을 들여보세요. 분명 깔끔하고 보기 좋은 코드를 만드실 수 있을 겁니다. 머지 않아 “남을 위한 코드는 곧 나를 위한 코드”라는 것도 알게 될 거고요. 책의 한 구절이 떠오르네요. <br><br>

<b>“우리는 저자이다. 저자에게는 독자가 있다. 그리고 저자에게는 독자와 잘 소통해야할 책임이 있다.”</b><br>
⌈Clean Code⌋의 저자, Robert C. Martin <br><br><br>

# 설마가 사람 잡는다, 철저한 검증
만약 누군가 검증 단계에서 잊지 말아야할 것이 뭔지 묻는다면 이렇게 대답하고 싶습니다. <br>
“절대 사용자가 입력한 값을 신뢰하지 말라. <b>프론트엔드에서도, 백엔드에서도.</b>”  <br><br>

{% include figure.html file="/assets/2018/20180302/01.png" alt="01" caption="" border="true" %}
<br>
모든 사용자가 각 항목에 맞게 올바른 정보만 입력해준다면 얼마나 좋을까요? 세상에는 다양한 사용자가 있습니다. 너무 바빠서 얼른 회원가입을 해야하는 사용자는 항목을 채우지도 않고 신청 버튼을 누를 수도 있습니다. 영어로 입력해야 하는 항목엔 한글을 입력한 사용자도 있을 겁니다. 이런 휴먼 에러(human error)뿐만 아니라 의도적으로 비정상적인 요청을 시도하는 사용자도 분명 있습니다. 이 때문에 개발자는 기능에 대해 항상 검증해야 합니다. <br><br>

{% include figure.html file="/assets/2018/20180302/02.png" alt="02" caption="" border="true" %}
{% include figure.html file="/assets/2018/20180302/03.png" alt="03" caption="바로 이렇게요!" border="true" %}
<br>
그런데 프론트엔드에서 유효성 검사를 하면, 백엔드에는 유효한 값만 넘어온다고 보장할 수 없습니다. 자바스크립트는 브라우저 엔진에 따라 다르게 동작할 수도 있습니다. 또 자바스크립트에서 다루는 값들은 크롬의 개발자도구(option + command + i)를 이용하면 얼마든지 값을 변조하거나 검증을 회피할 수 있습니다. 또 불온한 시도가 아니더라도 다양한 예외 케이스들이 존재하기 때문에 백엔드에서도 무조건 검증해야 합니다.
<br><br>
{% include figure.html file="/assets/2018/20180302/04.png" alt="04" caption="페이스북 페이지의 개발자 도구를 열었을 때 노출되는 화면입니다. 얼마나 나쁜 사람들이 많으면 경고화면까지 만들었을까요?" border="true" %}<br>
누군가 질문할 수도 있겠군요. <br>
“프론트엔드의 검증이 의미가 없다면, 백엔드에서만 검증을 해도 되지 않을까요?” <br><br>

{% include figure.html file="/assets/2018/20180302/05.png" alt="05" caption="" border="true" %}
{% include figure.html file="/assets/2018/20180302/06.png" alt="06" caption="" border="true" %}
<br>
네, 아닙니다.(단호) 많은 양의 일을 한꺼번에 하는게 힘든 것처럼 무분별한 요청이 서버에 쏟아지면 서버도 사람처럼 지치고 말 겁니다. 응답이 느려지는 등의 문제가 생길 수도 있고, 결국 사용자가 불편해질 것입니다. 그러므로 가장 좋은 검증 방식을 3단계로 정리하면 아래와 같습니다. <br><br>

**고수가 되는 검증 방식 3단계**
1. 프론트엔드에서 먼저 값 검증을 하여 빠른 사용자 경험을 제공한다.
2. 백엔드에서 다시 한 번 더 검증을 거쳐 상황에 적절한 응답 코드를 내려준다.
3. 프론트엔드는 상황에 맞게 적절한 UX와 메시지를 보낸다.
<br><br><br>

# 동작 그만! 정리는 하고 코딩하자!
예전에는 요구사항이 있으면 바로 키보드 위에 손부터 올렸습니다만, 그건 좋은 태도가 아니었습니다. 팀장님이 “이 경우엔 어떻게 하지?”라고 질문하면 아무 대답도 하지 못했기 때문이죠. 팀장님은 늘 “항상 먼저 생각하고 코딩하자!“라고 조언하십니다.  <br><br>

{% include figure.html file="/assets/2018/20180302/07.png" alt="" caption="" border="true" %}
<br>
맞습니다. 최대한 모든 경우의 수를 머릿속에 정리하고 코딩을 시작해야 합니다. 시간이 없다는 핑계로 무작정 시작하면 분명 문제가 발생합니다. 또 구현할 기능만 몰두하지 말고, ‘이 기능이 다른 기능에 영향을 미칠 수 있을까?’를 고민하면 훨씬 좋은 코드를 만들 수 있을 겁니다. <br><br>

“이런 거 다 생각하고 짜면 도대체 코딩은 언제 하라고?” <br>
“얼른 선임 분들에게 코딩하는 내 모습을 보여줘야 하는데!” <br>
“당장 코드 안 짜고 있으면 노는 것처럼 보이지 않을까?” <br><br>

혹시 이런 생각을 하고 계신가요? 나도 그런 생각을 했던 적이 있습니다. 하지만 요구사항을 확실하게 정리한 후, 코드를 짜는 게 더 효율적입니다. (그렇지 않으면.. ‘수정’이란 이름 아래 모든 것을 뒤엎고 처음부터 다시 시작해야할 수도 있습니다.) <br>


[‘더 나은 개발자가 되는 8가지 방법(8 Ways to Become a Better Coder)’](https://blog.newrelic.com/2016/02/22/8-ways-become-a-better-coder/)이란 글에는 이런 내용이 있습니다. <br>
<b>“동작하는 코드는 끝이 아니라 시작이다.” </b><br>
신입 개발자는 종종 요구사항에 따라 동작하는 코드만 짜면 된다고 여길 때가 있습니다. 물론 사회생활에 적응하느라 정신 없는 와중에 그나마 자신의 코드가 요구사항대로 동작하면 무척 뿌듯할 겁니다. 하지만 동작만 한다고 절대 지나치지 말아주세요. 위에서 언급한 것처럼 깨끗한 코드가 되도록 리팩토링을 하고, 검증하고, 동작이 제대로 되는 것인지 의심하면서 꾸준히 노력해야 합니다. 마지막으로 항상 중요하게 생각하는 문장 하나를 남기고 글을 마치겠습니다.<br><br>

<b>"진정으로 훌륭한 프로그래머는 적극적으로 어디가 잘못되었지를 찾는다. 자기가 놓친 결함은 결국 '사용자'가 발견하게 된다는 것을 알고 있기 때문이다." </b><br>
Esther Schindler<br><br><br>

# Conclusion
지금까지 다룬 내용은 결국 같은 맥락입니다. 모든 개발조직은 좋은 품질의 소프트웨어를 개발할 줄 아는 개발자, 협업할 줄 아는 개발자를 원합니다. 누군가 "당신은  잘 지키고 있는가"라고 질문한다면, "저 또한 노력하고 있습니다."라고 답변하고 싶습니다. 같은 자리에 머무르는 개발자가 될 것인지, 부족함을 알고 항상 배우고 나아가는 개발자가 될 것인지는 스스로의 몫이라고 생각합니다. 이 글을 끝까지 읽은 신입 개발자 당신! 같이 노력하지 않으실래요? :-) <br><br><br>



**참고** <br>
- Robert C. Martin, 「Clean Code」, 케이엔피북스(2010)
- [Esther Schindler, 8 Ways to Become a Better Corder, New Relic, 2018.03.02.](https://blog.newrelic.com/2016/02/22/8-ways-become-a-better-coder/)
- 유석문, 「프로그래머 철학을 만나다 - 소프트웨어를 사랑하는 기술」, 로드북(2014)
- 임백준, 「읽기 좋은 코드가 좋은 코드다」, 한빛미디어(2012)
- [팀장들이 꼽은 신입 PHP 개발자가 가급적 빨리 알았으면 하는 것들](http://slides.com/hyun-seoklee/newbie_book_survey-8#/)
- [프론트에서"만" 유효성 검사가 문제인 경우](http://jojoldu.tistory.com/157)
- [남을 위한 코드 만들기 - 클린코드](http://m.blog.naver.com/tmondev/220802345494)
