---
title: ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œë¶€í„° ë°°í¬ê¹Œì§€, AWS CodeStar
layout: post
cover: "/assets/default.jpg"
author: yunsh
date: '2018-02-09 11:08:06'
subtitle: 'AWS CodeStar: Tutorial'
---

# Overview
AWS CodeStarë¥¼ ì´ìš©í•˜ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê°œë°œ-ë¹Œë“œ-ë°°í¬ê¹Œì§€ ë¹ ë¥´ê²Œ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë°–ì—ë„ CodeStarëŠ” ëª‡ ê°€ì§€ ì¥ì ì„ ê°€ì§€ê³  ìˆëŠ”ë°ìš”. ì˜¤ëŠ˜ì€ ê°„ë‹¨í•œ Python App Service Tutorialì„ í†µí•´ CodeStarë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤. <br><br>

**CodeStarì˜ ì¥ì **<br>
+ í†µí•©ëœ UIë¡œ í•œ ë²ˆì— ì—¬ëŸ¬ í™œë™ ê´€ë¦¬ ê°€ëŠ¥
+ Continuous Delivery ë„êµ¬ ì²´ì¸ì„ êµ¬ì„±í•´ ì‹ ì†í•œ ì½”ë“œ ë°°í¬ ê°€ëŠ¥
+ ì†Œìœ ì, ê¸°ì—¬ì ë° ìµœì¢… ì‚¬ìš©ì ì¶”ê°€ë¡œ ì•ˆì „í•œ í˜‘ì—… ê°€ëŠ¥
+ Dashboardë¥¼ ì‚¬ìš©í•´ ì „ì²´ ê°œë°œ í”„ë¡œì„¸ìŠ¤ì˜ ì§„í–‰ ìƒí™© ì¶”ì  ê°€ëŠ¥

<br><br>

# CodeStar ì‚¬ìš©í•˜ê¸°
**1-1.** ì²˜ìŒ CodeStarë¥¼ ì‹¤í–‰í•˜ë©´ ë‚˜ì˜¤ëŠ” í™”ë©´ì…ë‹ˆë‹¤. â€˜Start a Projectâ€™ë¥¼ ëˆ„ë¥´ë©´ í”„ë¡œì íŠ¸ í…œí”Œë¦¿ì„ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. <br>
{% include figure.html file="/assets/20180209/01.png" alt="01" border="true" %}<br><br>

**1-2.** ì´ê²ƒì€ ì•„ì§ ì§€ì›ë˜ì§€ ì•ŠëŠ” ì§€ì—­(Region)ì—ì„œ ë…¸ì¶œë˜ëŠ” í™”ë©´ì…ë‹ˆë‹¤. <br>
{% include figure.html file="/assets/20180209/02.png" alt="02" border="true" %}<br><br>

**2-1.** â€˜Start a Projectâ€™ë¥¼ í´ë¦­í•˜ë©´ í”„ë¡œì íŠ¸ í…œí”Œë¦¿ì„ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. <br>
{% include figure.html file="/assets/20180209/04.png" alt="04" border="true" %}<br><br>

**2-2.** Pythonê³¼ AWS Lambdaë¥¼ ì´ìš©í•´ Web serviceë¥¼ êµ¬í˜„í•´ë³´ê² ìŠµë‹ˆë‹¤. <br>
{% include figure.html file="/assets/20180209/05.png" alt="05" border="true" %}<br><br>

**3.** Project Nameì„ ì§€ì •í•˜ê³  repositoryë¥¼ ì„ íƒí•©ë‹ˆë‹¤. ì—¬ê¸°ì„œëŠ” AWS CodeCommitìœ¼ë¡œ ì„ íƒí•˜ì—¬ ì§„í–‰í•´ë³´ê² ìŠµë‹ˆë‹¤. CodeCommitì˜ ê²½ìš° Repository nameì„ ë”°ë¡œ ì§€ì •í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. Repository nameê¹Œì§€ ì§€ì •í–ˆë‹¤ë©´ Nextë¥¼ í´ë¦­í•©ë‹ˆë‹¤. <br>
{% include figure.html file="/assets/20180209/06.png" alt="06" border="true" %}<br><br>

**4.** ì•„ë˜ì˜ í™”ë©´ì€ í”„ë¡œì íŠ¸ì˜ íë¦„ì…ë‹ˆë‹¤. CodeCommitì— ì†ŒìŠ¤ê°€ ì €ì¥ë˜ê³  AWS CodeBuildë¥¼ í†µí•´ì„œ Buildì™€ Testê°€ ì§„í–‰ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  AWS CloudFormationì„ í†µí•´ì„œ Deployê°€ ì§„í–‰ë˜ë©° Monitoringì€ Amazon Cloud Watchë¥¼ í†µí•´ ì§„í–‰í•©ë‹ˆë‹¤. CodeStarì˜ ê²½ìš° IAM ì‚¬ìš©ìì— AWSCodeStarFullAccess ê´€ë¦¬í˜• ì •ì±…ì„ ì ìš©í•©ë‹ˆë‹¤.1) <br>
{% include figure.html file="/assets/20180209/07.png" alt="07" border="true" %}<br><br>

**5.** Create Projectë¥¼ í´ë¦­í•˜ë©´ í”„ë¡œì íŠ¸ê°€ ìƒì„±ë˜ê³ , CodeStar ìœ ì € ì„¤ì •ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. <br>
{% include figure.html file="/assets/20180209/08.png" alt="08" border="true" %}<br><br>

**6-1.** ì´ì œ editorë¥¼ ì„ íƒí•´ë´…ì‹œë‹¤. Command line tools, Eclipse, Visual Studio ë“±ì„ ê³ ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. íˆ´ì€ ì–¸ì œë“ ì§€ ë°”ê¿€ ìˆ˜ ìˆìœ¼ë‹ˆ ì—¬ê¸°ì„œëŠ” Eclipseë¥¼ ì´ìš©í•˜ì—¬ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤. <br>
{% include figure.html file="/assets/20180209/9-1.png" alt="9-1" border="true" %}<br><br>

**6-2.** See Instructionsë¥¼ í´ë¦­í•˜ë©´ Eclipseë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ì•„ ì„¤ì •í•˜ëŠ” ë°©ë²•ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. <br>
{% include figure.html file="/assets/20180209/10-1.png" alt="10-1" border="true" %}<br><br>

**6-3.** ì´ì œ Eclipseë¥¼ ì„¤ì¹˜í•˜ê³  AWS Toolkit for Eclipseë¥¼ ì„¤ì¹˜í•´ë³´ê² ìŠµë‹ˆë‹¤. Eclipseì˜ ì¢…ë¥˜ëŠ” Eclipse IDE for java EE Developers ì—ë””ì…˜ì„ ì„¤ì¹˜í•˜ê² ìŠµë‹ˆë‹¤. ë‹¤ë¥¸ ë²„ì „ì€ AWS Toolkit ì„¤ì¹˜í•  ë•Œ ì˜ì¡´ì„± ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. <br>
{% include figure.html file="/assets/20180209/11.png" alt="11" border="true" %}<br><br>

**7.** Eclipseë¥¼ ì„¤ì¹˜í•˜ê³  Eclipse Marketplaceì—ì„œ AWS Toolkit for Eclipse 2.0ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤. <br>
{% include figure.html file="/assets/20180209/12.png" alt="12" border="true" %}<br>
{% include figure.html file="/assets/20180209/13.png" alt="13" border="true" %}<br><br>

**8-1.** importë¥¼ í´ë¦­í•˜ê³  <br>
{% include figure.html file="/assets/20180209/14.png" alt="14" border="true" %}<br><br>

**8-2.** AWS -> AWS CodeStar Projectë¥¼ ì„ íƒí•©ë‹ˆë‹¤. <br>
{% include figure.html file="/assets/20180209/15.png" alt="15" border="true" %}<br><br>

**8-3.** ì§€ì—­(Region)ì„ ì„ íƒí•˜ë©´ í•´ë‹¹ ì§€ì—­ì˜ CodeStar í”„ë¡œì íŠ¸ë¥¼ import í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë•Œ CodeCommitì˜ HTTPS Git credentialsë¥¼ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤. <br>
{% include figure.html file="/assets/20180209/16.png" alt="16" border="true" %}<br><br>

**9.** IAM -> Users -> ì‚¬ìš© ê³„ì •ì„ ì„ íƒí•´ HTTPS Git credentials for AWS CodeCommitì— ê°€ë©´ User Nameê³¼ Passwordë¥¼ Generate í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ì•„ë˜ ì´ë¯¸ì§€ì— ë¯¼ê°í•œ ì •ë³´ëŠ” ì‚­ì œí–ˆìŠµë‹ˆë‹¤.) <br>
{% include figure.html file="/assets/20180209/17.png" alt="17" border="true" %}<br>
{% include figure.html file="/assets/20180209/18.png" alt="18" border="true" %}<br><br>

**10.** CodeStarì—ì„œ Projectë¥¼ Eclipseì— importí•œ ëª¨ìŠµì…ë‹ˆë‹¤. buildspec.yml, index.py, README.md, template.ymlì´ clone ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. <br>
{% include figure.html file="/assets/20180209/19-1.png" alt="19-1" border="true" %}<br>
{% include figure.html file="/assets/20180209/19-2.png" alt="19-2" border="true" %}<br><br>

**11.** ë¸Œë¼ìš°ì €ì˜ Eclipse ì„¤ì¹˜ ì„¤ëª… í™”ë©´ì—ì„œ backì„ í´ë¦­í•´ ì—ë””í„° ì„ íƒ í™”ë©´ìœ¼ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤. <br>
{% include figure.html file="/assets/20180209/10-2.png" alt="10-2" border="true" %}<br><br>

**12.** ë„ì¿„ ì§€ì—­ì— ì•„ì§ ì¶œì‹œë˜ì§€ ì•Šì€ Cloud9ì€ ì„ íƒì„ ë§ˆì¹˜ë©´ ìë™ìœ¼ë¡œ ì…‹ì—…ì´ ì™„ë£Œë©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ EclipseëŠ” Skipì„ í´ë¦­í•´ì•¼ CodeStar Dashboardë¡œ ì´ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. <br>
{% include figure.html file="/assets/20180209/9-2.png" alt="9-2" border="true" %}<br><br>

**13.** CodeStar Dashboardì— ì§„ì…í•˜ì˜€ìŠµë‹ˆë‹¤. IDEëŠ” ì´ë¯¸ ì„¤ì •ì´ ëë‚¬ìœ¼ë¯€ë¡œ I have already done thisë¥¼ ì„ íƒí•©ë‹ˆë‹¤. í™”ë©´ í•˜ë‹¨ì— íŒŒë€ìƒ‰ ì§ìœ¡ë©´ì²´ê°€ ê³„ì† ê·¸ë ¤ì§€ë©´ deployê°€ ì™„ë£Œëœ ìƒíƒœê°€ ì•„ë‹ˆë¯€ë¡œ ì¡°ê¸ˆ ê¸°ë‹¤ë ¸ë‹¤ê°€ refreshë¥¼ í•´ì¤ë‹ˆë‹¤. <br>
{% include figure.html file="/assets/20180209/20.png" alt="20" border="true" %}<br><br>

**14-1.** deployê°€ ì™„ë£Œë˜ë©´ ìœ„ì™€ ê°™ì´ Team wiki tile, Application endpoints, Commit history, Continuous deployment, Application activityë“±ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤. <br>
{% include figure.html file="/assets/20180209/21.png" alt="21" border="true" %}<br><br>

**14-2.** JIRAë¥¼ ì—°ë™í•´ì„œ ì‚¬ìš©í•  ìˆ˜ë„ ìˆëŠ”ë°, ê·¸ ë‚´ìš©ì€ ë‹¤ìŒì— ë‹¤ë£¨ê² ìŠµë‹ˆë‹¤. ğŸ˜ <br>
{% include figure.html file="/assets/20180209/22.png" alt="22" border="true" %}<br><br>

**15.** ìš°ì„  ì²« deployê°€ ì™„ë£Œëœ ê²ƒì„ ìì¶•í•˜ë©° Application endpointsë¥¼ í´ë¦­í•©ë‹ˆë‹¤. ê°œë°œìë“¤ì—ê²Œ êµ‰ì¥íˆ ìµìˆ™í•œ "Hello World"ê°€ ë‚˜ì˜µë‹ˆë‹¤! ê°„í¸í•˜ê²Œ ì†ŒìŠ¤ë¥¼ deploy í•˜ì—¬ AWS Api-Gatewayì™€ ì—°ê²°í–ˆìŠµë‹ˆë‹¤. ì´ì œ ê° íŒŒì¼ì˜ ìš©ë„ì— ëŒ€í•œ ì„¤ëª…ê³¼ ìƒˆë¡œìš´ methodë¥¼ ì¶”ê°€í•˜ëŠ” ì‘ì—…ì„ ì§„í–‰í•´ë³´ê² ìŠµë‹ˆë‹¤. <br>
{% include figure.html file="/assets/20180209/23.png" alt="23" border="true" %}<br>
{% include figure.html file="/assets/20180209/24.png" alt="24" border="true" %}<br><br>

**16.** ì´ë¯¸ì§€ì²˜ëŸ¼ sample.py íŒŒì¼ì„ ì¶”ê°€í•˜ê³  ì•„ë˜ ì½”ë“œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.  <br>
{% include figure.html file="/assets/20180209/25.png" alt="25" border="true" %}<br>
```
import json
import datetime

def handler(event, context):
    data = {
        'output': 'Sample! pathParameters test = ' + event["pathParameters"]["test"]
    }
    return {'statusCode': 200,
            'body': json.dumps(data),
            'headers': {'Content-Type': 'application/json'}}
```

<br><br>

**17.** ê·¸ë¦¬ê³  template.ymlì—ëŠ” ì•„ë˜ ë‚´ìš©ì„ ì¶”ê°€í•©ë‹ˆë‹¤. <br>
```
â€” template.yml â€” 
Sample:
    Type: AWS::Serverless::Function
    Properties:
      Handler: sample.handler
      Runtime: python3.6
      Role:
        Fn::ImportValue:
          !Join ['-', [!Ref 'ProjectId', !Ref 'AWS::Region', 'LambdaTrustRole']]
      Events:
        GetEvent:
          Type: Api
          Properties:
            Path: /sample/{test}
            Method: get
â€” 
```

<br><br>

**18-1.** ì´ì œ ìˆ˜ì •í•œ ë‚´ìš©ì„ CodeStarì— ë°˜ì˜í•´ë³´ê² ìŠµë‹ˆë‹¤. í”„ë¡œì íŠ¸ì—ì„œ ì˜¤ë¥¸ìª½ í´ë¦­ì„ í•´ Team -> Commitì„ ì„ íƒí•˜ê³  Commití•©ë‹ˆë‹¤. <br>
{% include figure.html file="/assets/20180209/26.png" alt="26" border="true" %}<br><br>

**18-2.** ìˆ˜ì •í•œ íŒŒì¼ì„ Commití•˜ê³  Pushí•©ë‹ˆë‹¤. <br>
{% include figure.html file="/assets/20180209/27.png" alt="27" border="true" %}<br><br>

**18-3.** Dashboardë¥¼ ë³´ë©´ Commit historyì— Commit ë‚´ìš©ì´ ë°˜ì˜ë˜ì—ˆìŠµë‹ˆë‹¤. <br>
{% include figure.html file="/assets/20180209/28.png" alt="28" border="true" %}<br><br>

**19-1.** Dashboardì— Continuous deploymentë¥¼ ë³´ë©´ Source -> Build -> Deployë¥¼ í†µí•´ì„œ ìˆ˜ì •í•œ ë‚´ìš©ì´ ë°˜ì˜ë˜ëŠ” ê²ƒì„ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì‘ì—…ì€ ìƒê°ë³´ë‹¤ ì‹œê°„ì´ ë§ì´ ì†Œìš”ë©ë‹ˆë‹¤. Deployê¹Œì§€ Succeededë¡œ ì™„ë£Œê°€ ë˜ë©´ ìƒˆë¡œ ë§Œë“¤ì–´ì§„ URLì„ í´ë¦­í•©ë‹ˆë‹¤. <br>
{% include figure.html file="/assets/20180209/29.png" alt="29" border="true" %}<br><br>

**19-2.** ì•„ë˜ì™€ ê°™ì´ pathParametersê°€ ì •ìƒì ìœ¼ë¡œ ì¶œë ¥ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. <br>
{% include figure.html file="/assets/20180209/30.png" alt="30" border="true" %}<br>
{% include figure.html file="/assets/20180209/31.png" alt="31" border="true" %}<br><br>

**20.** ì´ì–´ì„œ ìƒˆë¡œ ë§Œë“  APIì— ë‹¨ìœ„í…ŒìŠ¤íŠ¸ë¥¼ ì¶”ê°€í•´ë³´ê² ìŠµë‹ˆë‹¤. sample_test.pyë¼ëŠ” íŒŒì¼ì„ ë§Œë“¤ê³  ì•„ë˜ ì½”ë“œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. <br>
```
â€” sample_test.py â€”
from sample import handler

def test_sample_handler():
    
    event = {
        'pathParameters': {
            'test': 'testMessage'
        }
    }
    
    context = {}
    
    expected = {
        'body' : '{"output": "Sample! pathParameters test = testMessage"}'
        ,'headers': {
            'Content-Type': 'application/json'
        },
        'statusCode': 200
    }
    
    assert handler(event, context) == expected
â€” 
```

<br><br>
**21.** ê·¸ë¦¬ê³  buildspec.yml íŒŒì¼ì„ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •í•©ë‹ˆë‹¤. <br>
```
â€” buildspec.yml â€” 
version: 0.2

phases:

  install:
    commands:
      - pip install pytest

  pre_build:
    commands:
      - pytest

  build:
    commands:
      - pip install --upgrade awscli
      - aws cloudformation package --template template.yml --s3-bucket $S3_BUCKET --output-template template-export.yml
artifacts:
  type: zip
  files:
    - template-export.yml
â€” 
```
<br><br>
**22-1.** Commitì„ ì§„í–‰í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë‹¤ì‹œ Source -> Build -> Deploy ë¥¼ ê±°ì³ì„œ Succeededê°€ ë˜ë©´ Build ë¶€ë¶„ì˜ CodeBuildë¡œ ë“¤ì–´ê°€ì„œ Build ê²°ê³¼ë¥¼ í™•ì¸í•©ë‹ˆë‹¤. <br>
{% include figure.html file="/assets/20180209/32.png" alt="32" border="true" %}<br><br>

**22-2.** ë§¨ ë§ˆì§€ë§‰ì— Build ê²°ê³¼ë¥¼ í´ë¦­í•˜ë©´ Build ìƒì„¸ ë‚´ì—­ì„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. <br>
{% include figure.html file="/assets/20180209/33.png" alt="33" border="true" %}<br><br>

**22-3.** Build logsë¶€ë¶„ì„ ë³´ë©´ sample_test.pyë¥¼ ì´ìš©í•œ ë‹¨ìœ„í…ŒìŠ¤íŠ¸ê°€ ì •ìƒì ìœ¼ë¡œ ì§„í–‰ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. <br>
{% include figure.html file="/assets/20180209/34.png" alt="34" border="true" %}<br><br>


# Conclusion
ì§€ê¸ˆê¹Œì§€ CodeStarë¥¼ ì´ìš©í•œ ê°„ë‹¨í•œ íŠœí† ë¦¬ì–¼ì„ ì§„í–‰í–ˆìŠµë‹ˆë‹¤. ë‹¤ìŒ í™”ì—ì„œëŠ” ë‹¤ì–‘í•œ ë°©ë²•ìœ¼ë¡œ CodeStarë¥¼ í™œìš©í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì†Œê°œí•˜ê² ìŠµë‹ˆë‹¤. CodeStarì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì€ [ì—¬ê¸°](https://docs.aws.amazon.com/ko_kr/codestar/latest/userguide/welcome.html)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”. <br><br>


**ì°¸ê³ ** <br>
1) [AWS CodeStar ì„¤ì •](https://docs.aws.amazon.com/ko_kr/codestar/latest/userguide/setting-up.html?icmpid=docs_acs_console_pt#setting-up-create-role)

<br><br>